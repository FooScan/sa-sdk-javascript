!function(){"use strict";function t(t,e){if("track"!==t.type)return t;var i=e.sd,s=i._,r=i.saEvent.check,o=s.extend2Lev({properties:{}},t),n=e.currentProps,p=o.properties,c=o.event,h={};return s.each(n,function(t){if(s.isObject(t))s.indexOf(t.events,c)>-1&&r({properties:t.properties})&&(h=s.extend(h,t.properties));else if(s.isFunction(t)){var e=t({event:c,properties:p,data:o});s.isObject(e)&&!s.isEmptyObject(e)&&r({properties:e})&&(h=s.extend(h,e))}}),t.properties=s.extend(p,h),t}function e(e){var i=this;this.sd=e.sd,this.currentProps=e.customRegister,this.interceptor={addCustomProps:{priority:0,entry:function(e){return t(e,i),e}}}}function i(t){this.dataStage=new e(t)}function s(){this.sd=null,this.log=window.console&&window.console.log||function(){},this.customRegister=[]}e.prototype.init=function(){},s.prototype.init=function(t){t?(this.sd=t,this._=t._,this.log=t.log,t.registerFeature(new i(this))):this.log("\u795e\u7b56JS SDK\u672a\u6210\u529f\u5f15\u5165")},s.prototype.register=function(t){return this.sd?void(this._.isObject(t)&&this._.isArray(t.events)&&t.events.length>0&&this._.isObject(t.properties)&&!this._.isEmptyObject(t.properties)?this.customRegister.push(t):this.log("RegisterProperties: register \u53c2\u6570\u9519\u8bef")):void this.log("\u795e\u7b56JS SDK\u672a\u6210\u529f\u5f15\u5165")},s.prototype.hookRegister=function(t){return this.sd?void(this._.isFunction(t)?this.customRegister.push(t):this.log("RegisterProperties: hookRegister \u53c2\u6570\u9519\u8bef")):void this.log("\u795e\u7b56JS SDK\u672a\u6210\u529f\u5f15\u5165")},s.prototype.name="RegisterProperties";var r=new s;return r}();