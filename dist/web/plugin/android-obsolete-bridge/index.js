(window.SensorsDataWebJSSDKPlugin=window.SensorsDataWebJSSDKPlugin||{}).AndroidObsoleteBridge=function(){"use strict";function e(e){return v&&v.call(f,JSON.stringify(e))}function n(e){return g.call(f)&&b&&b.call(f,JSON.stringify(e))}function a(e,n){return n&&"function"==typeof n[e.callType]&&n[e.callType]()}function r(e,n,a){var r=e.init;return n&&(e.name=n),e.init=function(n,i){function t(){r.call(e,n,i)}return n.readyState&&n.readyState.state>=3||!n.on?t():void n.on(a,t)},e}function i(){if(o=window.SensorsData_APP_JS_Bridge,d=o&&o.sensorsdata_track,l=o&&o.sensorsdata_verify,c=o&&o.sensorsdata_visual_verify,u&&!u.bridge.activeBridge&&(l||d||c)){u.bridge.activeBridge=S;var e=l||d;if(c&&(e=!!c.call(o,JSON.stringify({server_url:u.para.server_url}))),u.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:e?"success":"fail"},!u.para.app_js_bridge)return void p("app_js_bridge is not configured, data will not be sent by android obsolete bridge.");u.registerInterceptor("sendStage",{send:{priority:0,entry:t}}),p("Android obsolete bridge inits succeed.")}}function t(e,n){if(u.para.app_js_bridge.is_mui)return e;var a=e.callback;if(l){var r=l&&l.call(o,JSON.stringify(_.extend({server_url:u.para.server_url},e.data)));return r?(_.isFunction(a)&&a(),n.cancellationToken.cancel(),e):u.para.app_js_bridge.is_send?(u.debug.apph5({data:e.data,step:"3.1",output:"all"}),e):(_.isFunction(a)&&a(),n.cancellationToken.cancel(),e)}return d&&d.call(o,JSON.stringify(_.extend({server_url:u.para.server_url},e.data))),_.isFunction(a)&&a(),n.cancellationToken.cancel(),e}function s(e){var n=e.callType;return n in y.commands?y.commands[n](e,o):o&&_.isFunction(o.sensorsdata_js_call_app)?o.sensorsdata_js_call_app(JSON.stringify(e)):void 0}var o,d,l,c,u,_,p,f=window.SensorsData_App_Visual_Bridge,g=f&&f.sensorsdata_visualized_mode,v=f&&f.sensorsdata_visualized_alert_info,b=f&&f.sensorsdata_hover_web_nodes,y={isVerify:function(){return g&&(g===!0||g.call(f))},commands:{app_alert:e,visualized_track:n,page_info:n,sensorsdata_get_app_visual_config:a}},S={init:function(e){u=e,_=u&&u._,p=u&&u.log||console&&console.log||function(){},i()},handleCommand:s};return r(S,"AndroidObsoleteBridge","sdkAfterInitPara"),S}();