!function(){"use strict";function e(e){return v&&v.call(f,JSON.stringify(e))}function a(e){return g.call(f)&&b&&b.call(f,JSON.stringify(e))}function n(e,a){return a&&"function"==typeof a[e.callType]&&a[e.callType]()}function r(e,a,n){var r=e.init;return a&&(e.name=a),e.init=function(a,i){function t(){r.call(e,a,i)}return a.readyState&&a.readyState.state>=3||!a.on?t():void a.on(n,t)},e}function i(){if(o=window.SensorsData_APP_JS_Bridge,c=o&&o.sensorsdata_track,l=o&&o.sensorsdata_verify,d=o&&o.sensorsdata_visual_verify,u&&!u.bridge.activeBridge&&(l||c||d)){u.bridge.activeBridge=m;var e=l||c;if(d&&(e=!!d.call(o,JSON.stringify({server_url:u.para.server_url}))),u.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:e?"success":"fail"},!u.para.app_js_bridge)return void p("app_js_bridge is not configured, data will not be sent by android obsolete bridge.");u.registerInterceptor("sendStage",{send:{priority:0,entry:t}}),p("Android obsolete bridge inits succeed.")}}function t(e,a){if(u.para.app_js_bridge.is_mui)return e;var n=e.callback;if(l){var r=l&&l.call(o,JSON.stringify(_.extend({server_url:u.para.server_url},e.data)));return r?(_.isFunction(n)&&n(),a.cancellationToken.cancel(),e):u.para.app_js_bridge.is_send?(u.debug.apph5({data:e.data,step:"3.1",output:"all"}),e):(_.isFunction(n)&&n(),a.cancellationToken.cancel(),e)}return c&&c.call(o,JSON.stringify(_.extend({server_url:u.para.server_url},e.data))),_.isFunction(n)&&n(),a.cancellationToken.cancel(),e}function s(e){var a=e.callType;return a in y.commands?y.commands[a](e,o):o&&_.isFunction(o.sensorsdata_js_call_app)?o.sensorsdata_js_call_app(JSON.stringify(e)):void 0}var o,c,l,d,u,_,p,f=window.SensorsData_App_Visual_Bridge,g=f&&f.sensorsdata_visualized_mode,v=f&&f.sensorsdata_visualized_alert_info,b=f&&f.sensorsdata_hover_web_nodes,y={isVerify:function(){return g&&(g===!0||g.call(f))},commands:{app_alert:e,visualized_track:a,page_info:a,sensorsdata_get_app_visual_config:n}},m={init:function(e){u=e,_=u&&u._,p=u&&u.log||console&&console.log||function(){},i()},handleCommand:s};return r(m,"AndroidObsoleteBridge","sdkAfterInitPara"),m}();