(window.SensorsDataWebJSSDKPlugin=window.SensorsDataWebJSSDKPlugin||{}).PageLoad=function(){"use strict";function e(e,n,t){if(n&&(e.plugin_name=n),t&&e.init){var o=e.init;e.init=function(n,r){function i(){o.call(e,n,r)}return n.readyState&&n.readyState.state>=3||!n.on?i():void n.on(t,i)}}return e}function n(n,o,r){return e(n,o,r),n.plugin_version=t,n}var t="_sdk_sdk_version",o={init:function(e){function n(n,t){if(n.getEntries&&"function"==typeof n.getEntries){for(var o=n.getEntries(),r=null,i=0;i<o.length;i++)"transferSize"in o[i]&&(r+=o[i].transferSize);e._.isNumber(r)&&r>=0&&r<10737418240&&(t.$page_resource_size=Number((r/1024).toFixed(3)))}}function t(){var o=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance,r=0,i={$url:e._.getURL(),$title:document.title,$url_path:e._.getURLPath(),$referrer:e._.getReferrer(null,!0)};if(o&&o.timing){var a=o.timing;0===a.fetchStart||0===a.domContentLoadedEventEnd?e.log("performance \u6570\u636e\u83b7\u53d6\u5f02\u5e38"):r=a.domContentLoadedEventEnd-a.fetchStart,n(o,i)}else e.log("\u6d4f\u89c8\u5668\u672a\u652f\u6301 performance API.");r>0&&(i.event_duration=Number((r/1e3).toFixed(3))),e.track("$WebPageLoad",i),window.removeEventListener?window.removeEventListener("load",t):window.detachEvent&&window.detachEvent("onload",t)}"complete"==document.readyState?t():window.addEventListener?window.addEventListener("load",t):window.attachEvent&&window.attachEvent("onload",t)}},r=n(o,"PageLoad","sdkReady");return r}();