(window.SensorsDataWebJSSDKPlugin=window.SensorsDataWebJSSDKPlugin||{}).AndroidBridge=function(){"use strict";function e(e){return f&&f.call(p,JSON.stringify(e))}function a(e){return g.call(p)&&b&&b.call(p,JSON.stringify(e))}function i(e,a){return a&&"function"==typeof a[e.callType]&&a[e.callType]()}function r(e,a,i){var r=e.init;return a&&(e.name=a),e.init=function(a,n){function s(){r.call(e,a,n)}return a.readyState&&a.readyState.state>=3||!a.on?s():void a.on(i,s)},e}function n(){if(o=window.SensorsData_APP_New_H5_Bridge,d=o&&o.sensorsdata_track,_=d&&o.sensorsdata_get_server_url&&o.sensorsdata_get_server_url(),c&&!c.bridge.activeBridge&&_){if(c.bridge.activeBridge=y,c.para.app_js_bridge&&!c.para.app_js_bridge.is_mui&&(c.bridge.is_verify_success=_&&c.bridge.validateAppUrl(_)),c.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:c.bridge.is_verify_success?"success":"fail",support_two_way_call:!!o.sensorsdata_js_call_app},!c.para.app_js_bridge)return void u("app_js_bridge is not configured, data will not be sent by android bridge.");c.registerInterceptor("sendStage",{send:{priority:0,entry:s}}),u("Android bridge inits succeed.")}}function s(e,a){if(c.para.app_js_bridge.is_mui)return e;var i=e.callback;return c.bridge.is_verify_success?(d&&d.call(o,JSON.stringify(l.extend({server_url:c.para.server_url},e.data))),l.isFunction(i)&&i(),a.cancellationToken.cancel(),e):c.para.app_js_bridge.is_send?(c.debug.apph5({data:e.data,step:"4.2",output:"all"}),e):(l.isFunction(i)&&i(),a.cancellationToken.cancel(),e)}function t(e){var a=e.callType;return a in v.commands?v.commands[a](e,o):void(o&&l.isFunction(o.sensorsdata_js_call_app)&&o.sensorsdata_js_call_app(JSON.stringify(e)))}var o,d,_,c,l,u,p=window.SensorsData_App_Visual_Bridge,g=p&&p.sensorsdata_visualized_mode,f=p&&p.sensorsdata_visualized_alert_info,b=p&&p.sensorsdata_hover_web_nodes,v={isVerify:function(){return g&&(g===!0||g.call(p))},commands:{app_alert:e,visualized_track:a,page_info:a,sensorsdata_get_app_visual_config:i}},y={init:function(e){c=e,l=c&&c._,u=c&&c.log||console&&console.log||function(){},n()},handleCommand:t};return r(y,"AndroidBridge","sdkAfterInitPara"),y}();