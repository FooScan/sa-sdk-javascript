function wrapPluginInitFn(n,t,e){var i=n.init;return t&&(n.name=t),n.init=function(t,r){if(t.readyState&&t.readyState.state>=3||!t.on)return a();function a(){i.call(n,t,r)}t.on(e,a)},n}var sd,_,GeneralEncryption={init:function(n,t){_=(sd=n)._;var e=t&&t.encrypt_utils,i=window.console&&window.console.log||function(){};i=sd&&sd.log||i;var r=sd.kit.encodeTrackData;sd&&sd.kit&&r?_.isObject(e)&&_.isFunction(e.encryptEvent)&&_.isFunction(e.encryptSymmetricKeyWithPublicKey)&&_.isString(t.pub_key)&&_.isNumber(t.pkv)?(sd.kit.encodeTrackData=function(n){try{var a=e.encryptEvent,c=e.encryptSymmetricKeyWithPublicKey,o=t.pkv,l=t.pub_key;if(_.isFunction(e.encryptEvent)){var d=a(n),y=sd._.base64Encode(d),s={pkv:o,ekey:c(l),payloads:[y]},u=JSON.stringify(s);return"data="+encodeURIComponent(u)}return r.call(sd.kit,n)}catch(p){return i("Encrypted data exception."),r.call(sd.kit,n)}},i("GeneralEncryption Plugin initialized successfully.")):i("GeneralEncryption Plugin initialization failed. parameter error."):i("Web SDK initialization failed.")}};wrapPluginInitFn(GeneralEncryption,"GeneralEncryption","sdkReady");export default GeneralEncryption;