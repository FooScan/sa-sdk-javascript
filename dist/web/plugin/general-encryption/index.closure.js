!function(){"use strict";function n(n,t,i){var e=n.init;return t&&(n.name=t),n.init=function(t,r){function a(){e.call(n,t,r)}return t.readyState&&t.readyState.state>=3||!t.on?a():void t.on(i,a)},n}var t,i,e={init:function(n,e){t=n,i=t._;var r=e&&e.encrypt_utils,a=window.console&&window.console.log||function(){};a=t&&t.log||a;var c=t.kit.encodeTrackData;return t&&t.kit&&c?i.isObject(r)&&i.isFunction(r.encryptEvent)&&i.isFunction(r.encryptSymmetricKeyWithPublicKey)&&i.isString(e.pub_key)&&i.isNumber(e.pkv)?(t.kit.encodeTrackData=function(n){try{var o=r.encryptEvent,u=r.encryptSymmetricKeyWithPublicKey,l=e.pkv,y=e.pub_key;if(i.isFunction(r.encryptEvent)){var d=o(n),p=t._.base64Encode(d),s={pkv:l,ekey:u(y),payloads:[p]},v=JSON.stringify(s),k=encodeURIComponent(v);return"data="+k}return c.call(t.kit,n)}catch(f){return a("Encrypted data exception."),c.call(t.kit,n)}},void a("GeneralEncryption Plugin initialized successfully.")):void a("GeneralEncryption Plugin initialization failed. parameter error."):void a("Web SDK initialization failed.")}};return n(e,"GeneralEncryption","sdkReady"),e}();